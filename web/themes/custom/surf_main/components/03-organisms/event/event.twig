{#
/**
 * @file
 * Component for Event (Node)
 *
 * Available props:
 * - event_attributes: [array] Any parent tag attributes.
 * - event_heading: [string] required
 * - event_media: [array]
 * - event_summary: [string]
 * - event_body [arary]
 * - event_dates [string]
 * - event_link_text [string]
 * - event_link_url [string]
 *
 */
#}

{%
  set classes = [
  'o-event',
]
%}

<article {{ event_attributes.addClass(classes).merge(attributes) }}>

  <div class="container container--xlarge">
    <div class="o-event__inner-wrapper">

      {# Header component #}
      {% embed 'surf_main:header' with {
        header_heading: event_heading,
        header_summary: event_summary,
        header_attributes: create_attribute({'class': ['o-header--grid']}),
        heading_attributes: create_attribute({'class': ['o-header__heading']}),
        event_dates,
        event_link_text,
        event_link_url,
      } only %}

        {% block header_links_block %}
          {# Breadcrumbs #}
        {% endblock %}

        {% block header_metadata_block %}
          <div class="o-event__meta-wrapper">
            <div class="o-event__dates"><p>{{ event_dates }}</p></div>
              {% include 'surf_main:button' with {
                attributes,
                button_attributes: create_attribute(),
                button_color: 'navy',
                button_external: true,
                button_html_tag: 'link',
                button_size: 'large',
                button_style: 'primary',
                button_title: event_link_text,
                button_url: event_link_url,
              } only %}
          </div>
        {% endblock %}

      {% endembed %}

      {# Left Hook component #}
      {% embed 'surf_main:left-hook' with {
        left_hook_attributes: create_attribute(),
      } only %}
      {% endembed %}

      <div class="o-event__content-grid">

        {# Media Component #}
        {% if event_media %}
          {% embed 'surf_main:media' with {
            media_attributes: create_attribute({'class': ['o-event__media']}),
            media: event_media,
          } only %}

            {% block media_block %}
              {{ media }}
            {% endblock %}

          {% endembed %}
        {% endif %}

        <div class="o-event__body-wrapper">
        {# Heading Component - Overview #}
          {% if event_summary %}
            {% embed 'surf_main:heading' with {
              heading_attributes: create_attribute({'class': ['o-event__summary']}),
              heading_text: event_summary,
              heading_level: '2',
            } only %}
            {% endembed %}
          {% endif %}

        {# Editor Component - Body #}
        {% embed 'surf_main:editor' with {
          editor_attributes: create_attribute(),
          editor_content: event_body,
        } only %}
        {% endembed %}
        </div>

      </div>
    </div>
  </div>
</article>