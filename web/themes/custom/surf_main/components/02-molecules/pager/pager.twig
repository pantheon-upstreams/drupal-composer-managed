{#
/**
 * @file
 * Theme override to display a pager.
 *
 * Available variables:
 * - attributes: [Drupal\Core\Template\Attribute] Drupal reserved space for attributes.
 * - pager_attributes: Reserved for any additional attributes needed for this component.
 * - pager_items: Reserved for all of the pager link list items.
 * - pager_ellipses: Reserved for any ellipses that are indicate more pages.
 */
#}

{% set classes = [
    'm-pager'
] %}

<nav {{ pager_attributes.addClass(classes).setAttribute('role', 'navigation').setAttribute('aria-label', 'Pager').merge(attributes) }}>
    <ol class="m-pager__items js-pager__items">
        {# Print first item if we are not on the first page. #}
        {% if pager_items.first %}
            <li class="m-pager__item m-pager__item--control m-pager__item--first">
                <a href="{{ pager_items.first.href }}" class="m-pager__link" title="{{ 'Go to first page'|t }}" {{ pager_items.first.attributes|without('href', 'title', 'class') }}>
                    <span class="visually-hidden">{{ 'First page'|t }}</span>
                    {{ 'First'|t }}
                </a>
            </li>
        {% endif %}

        {# Print previous item if we are not on the first page. #}
        {% if pager_items.previous %}
            <li class="m-pager__item m-pager__item--control m-pager__item--previous">
                <a href="{{ pager_items.previous.href }}" class="m-pager__link" title="{{ 'Go to previous page'|t }}" rel="prev" {{ pager_items.previous.attributes|without('href', 'title', 'rel', 'class') }}>
                    <span class="visually-hidden">{{ 'Previous page'|t }}</span>
                    {{ 'Previous'|t }}
                </a>
            </li>
        {% endif %}

        {# Add an ellipsis if there are further previous pages. #}
        {% if pager_ellipses.previous %}
            <li class="m-pager__item m-pager__item--ellipsis" role="presentation">&hellip;</li>
        {% endif %}

        {# Now generate the actual pager piece. #}
        {% for key, item in pager_items.pages %}
            <li class="m-pager__item {{ pager_current == key ? 'm-pager__item--active' }} m-pager__item--number">
                {% if pager_current == key %}
                    {% set title = 'Current page'|t %}
                {% else %}
                    {% set title = 'Go to page @key'|t({'@key': key}) %}
                {% endif %}

                <a href="{{ pager_current != key ? item.href }}" class="m-pager__link {{ pager_current == key ? 'is-active' }}" title="{{ title }}" {{ item.attributes|without('href', 'title', 'class') }} {% if current == key %} aria-current="page" {% endif %}>
                    <span class="visually-hidden">{{- pager_current == key ? 'Current page'|t : 'Page'|t -}}</span>
                    {{- key -}}
                </a>
            </li>
        {% endfor %}

        {# Add an ellipsis if there are further next pages. #}
        {% if pager_ellipses.next %}
            <li class="m-pager__item m-pager__item--ellipsis" role="presentation">&hellip;</li>
        {% endif %}

        {# Print next item if we are not on the last page. #}
        {% if pager_items.next %}
            <li class="m-pager__item m-pager__item--control m-pager__item--next">
                <a href="{{ pager_items.next.href }}" class="m-pager__link" title="{{ 'Go to next page'|t }}" rel="next" {{ pager_items.next.attributes|without('href', 'title', 'rel', 'class') }}>
                    <span class="visually-hidden">{{ 'Next page'|t }}</span>
                    {{ 'Next'|t }}
                </a>
            </li>
        {% endif %}

        {# Print last item if we are not on the last page. #}
        {% if pager_items.last %}
            <li class="m-pager__item m-pager__item--control m-pager__item--last">
                <a href="{{ pager_items.last.href }}" class="m-pager__link" title="{{ 'Go to last page'|t }}" {{ pager_items.last.attributes|without('href', 'title', 'class') }}>
                    <span class="visually-hidden">{{ 'Last page'|t }}</span>
                    {{ 'Last'|t }}
                </a>
            </li>
        {% endif %}
    </ol>
</nav>
