{#
/**
 * @file
 * Component for Callout
 *
 * Available props:
 * - callout_attributes: [array] Any parent tag attributes.
 * - callout_text: [string]
 * - callout_heading: [string] required
 * - callout_heading_level: [string] required
 * - callout_media: [array]
 * - callout_media_caption: [string]
 * - callout_button_text: [string]
 * - callout_button_url: [string]
 *
 */
#}

{% set classes = [
    'm-callout',
    callout_type ? 'm-callout--type-' ~ callout_type,
] %}

<aside {{ callout_attributes.addClass(classes).merge(attributes) }}>
    {% if callout_media %}
        {% embed 'surf_main:media' with {
            media_attributes: create_attribute({'class': ['m-callout__media']}),
            media_caption: callout_media_caption ? callout_media_caption,
            media: callout_media,
        } only %}
            {% block media_block %}
                {{ media }}
            {% endblock %}
        {% endembed %}
    {% endif %}

    <div class="m-callout__inner-wrapper">
        {% if callout_heading %}
            {% embed 'surf_main:heading' with {
                heading_text: callout_heading ? callout_heading,
                heading_level: '3',
                heading_attributes: create_attribute({'class': ['m-callout__heading']}),
            } only %}
            {% endembed %}
        {% endif %}

        {% if callout_text %}
            <p class="m-callout__text">{{ callout_text }}</p>
        {% endif %}

        {% if callout_button_url %}
            {% if callout_type == 'navy' or callout_type == 'blue' %}
                {% include 'surf_main:button' with {
                    attributes,
                    button_attributes: create_attribute(),
                    button_color: 'white',
                    button_external: true,
                    button_html_tag: 'link',
                    button_size: 'small',
                    button_style: 'primary',
                    button_title: callout_button_text,
                    button_url: callout_button_url,
                } only %}
            {% elseif callout_type == 'white' %}
                {% include 'surf_main:button' with {
                    attributes,
                    button_attributes: create_attribute(),
                    button_color: 'navy',
                    button_external: true,
                    button_html_tag: 'link',
                    button_size: 'small',
                    button_style: 'underline',
                    button_title: callout_button_text,
                    button_url: callout_button_url,
                } only %}
            {% elseif callout_type == 'img' or callout_type == 'embed' %}
                {% if callout_button_prefix == 'play' %}
                    {% include 'surf_main:button' with {
                        attributes,
                        button_attributes: create_attribute(),
                        button_color: 'white',
                        button_external: true,
                        button_html_tag: 'link',
                        button_prefix: 'icon-play-left',
                        button_size: 'small',
                        button_style: 'underline',
                        button_suffix: 'icon-arrow-right',
                        button_title: callout_button_text,
                        button_url: callout_button_url,
                    } only %}
                {% elseif callout_button_prefix == 'envelope' %}
                    {% include 'surf_main:button' with {
                        attributes,
                        button_attributes: create_attribute(),
                        button_color: 'white',
                        button_external: true,
                        button_html_tag: 'link',
                        button_prefix: 'icon-envelope-left',
                        button_size: 'small',
                        button_style: 'underline',
                        button_suffix: 'icon-arrow-right',
                        button_title: callout_button_text,
                        button_url: callout_button_url,
                    } only %}
                {% else %}
                    {% include 'surf_main:button' with {
                        attributes,
                        button_attributes: create_attribute(),
                        button_color: 'white',
                        button_external: true,
                        button_html_tag: 'link',
                        button_size: 'small',
                        button_style: 'underline',
                        button_suffix: 'icon-arrow-right',
                        button_title: callout_button_text,
                        button_url: callout_button_url,
                    } only %}
                {% endif %}
            {% else %}
                {% if callout_button_prefix == 'play' %}
                    {% include 'surf_main:button' with {
                        attributes,
                        button_attributes: create_attribute(),
                        button_color: 'navy',
                        button_external: true,
                        button_html_tag: 'link',
                        button_prefix: 'icon-play-left',
                        button_size: 'small',
                        button_style: 'underline',
                        button_suffix: 'icon-arrow-right',
                        button_title: callout_button_text,
                        button_url: callout_button_url,
                    } only %}
                {% elseif callout_button_prefix == 'envelope' %}
                    {% include 'surf_main:button' with {
                        attributes,
                        button_attributes: create_attribute(),
                        button_color: 'navy',
                        button_external: true,
                        button_html_tag: 'link',
                        button_prefix: 'icon-envelope-left',
                        button_size: 'small',
                        button_style: 'underline',
                        button_suffix: 'icon-arrow-right',
                        button_title: callout_button_text,
                        button_url: callout_button_url,
                    } only %}
                {% else %}
                    {% include 'surf_main:button' with {
                        attributes,
                        button_attributes: create_attribute(),
                        button_color: 'navy',
                        button_external: true,
                        button_html_tag: 'link',
                        button_size: 'small',
                        button_style: 'underline',
                        button_suffix: 'icon-arrow-right',
                        button_title: callout_button_text,
                        button_url: callout_button_url,
                    } only %}
                {% endif %}
            {% endif %}
        {% endif %}
    </div>
</aside>
