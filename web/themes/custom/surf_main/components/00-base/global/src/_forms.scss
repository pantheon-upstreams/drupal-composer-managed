//
// Global - Forms
//
// - 01 - Imports
// - 02 - General
// - 03 - Labels
// - 04 - Fields
//


//------------------------------------
//  01 - Imports
//------------------------------------

@use '../../../00-base/partials/breakpoints';
@use '../../../00-base/partials/calculations';




//------------------------------------
//  02 - General
//------------------------------------

.m-form {
  > * + *,
  .m-form__field + .m-form__field {
    margin-block-start: var(--surf-gap-small);

    @include breakpoints.bp-min(large) {
      margin-block-start: var(--surf-gap-large);
    }
  }

  .m-form__field--title input {
    background: svg-load('icon-search.svg') no-repeat 10px 10px;
    background-size: 28px;
    padding-inline-start: 48px;
  }
}




//------------------------------------
//  03 - Labels
//------------------------------------

label,
legend {
  color: var(--surf-color-black);
  display: block;
  font-family: var(--surf-font-condensed);
  font-size: calculations.rem(16px);
  font-weight: var(--surf-fw-bold);
  letter-spacing: 1.5px;
  line-height: var(--surf-lh-label);
  margin-block-end: 8px;
  text-transform: uppercase;
}

.required label:after,
.required legend span::after,
label.form-required::after,
legend span.form-required::after {
  background: none;
  color: var(--surf-color-red);
  content: '*';
  font-family: var(--surf-font-condensed);
  font-size: calculations.rem(22px);
  font-weight: var(--surf-fw-bold);
  letter-spacing: 1.5px;
  line-height: var(--surf-lh-label);
  margin-inline: 4px;
  text-transform: uppercase;
  vertical-align: text-top;
}




//------------------------------------
//  04 - Fields
//------------------------------------

input,
textarea {
  background-color: var(--surf-color-white);
  border: solid 1px var(--surf-color-gray-800);
  border-radius: 0;
  font-family: var(--surf-font-sans);
  font-size: var(--surf-fs-16-18);
  max-inline-size: 100%;
  padding-block: 10px;
  padding-inline: 12px;
}

textarea {
  display: block;
  inline-size: 100%;
}

input[type='text'],
input[type='password'],
input[type='date'],
input[type='email'],
input[type='number'] {
  block-size: 48px;

  &:focus,
  &:active {
    border-radius: 0;
    box-shadow: inset 0 0 0 1px var(--surf-color-black);
    outline: none;
  }
}

input[type='search']::-webkit-search-decoration,
input[type='search']::-webkit-search-cancel-button,
input[type='search']::-webkit-search-results-button,
input[type='search']::-webkit-search-results-decoration {
  display: none;
}

input[type='file'] {
  height: inherit;
}

select {
  appearance: none;
  background: svg-load('icon-add.svg') no-repeat calc(100% - 10px) 10px;
  background-size: 28px;
  block-size: 48px;
  border-radius: 0;
  color: var(--surf-color-gray-900);
  cursor: pointer;
  font-family: var(--surf-font-sans);
  font-size: var(--surf-fs-16-18);
  padding-inline: 12px 48px;

  &:focus,
  &:active {
    border-radius: 0;
    box-shadow: inset 0 0 0 1px var(--surf-color-black);
    outline: none;
  }
}

// Remove default IE arrow
select::-ms-expand { display: none; }

input[type='submit']:first-child,
input[type='submit']:not(:only-child):last-child {
  appearance: none;
  block-size: 48px;
  border: none;
  color: var(--surf-color-white);
  cursor: pointer;
  font-family: var(--surf-font-condensed);
  font-size: var(--surf-fs-16-22);
  font-weight: var(--surf-fw-bold);
  letter-spacing: calculations.rem(1.8px);
  line-height: 1;
  padding-inline: 16px;
  text-transform: uppercase;

  &:hover,
  &:focus {
    text-decoration: underline;
  }
}

input[type='submit']:first-child {
  background-color: var(--surf-color-navy);

  &:hover,
  &:focus {
    background-color: var(--surf-color-black);
  }
}

input[type='submit']:not(:only-child):last-child {
  background-color: var(--surf-color-black);

  &:hover,
  &:focus {
    background-color: var(--surf-color-gray-800);
  }
}

.form-actions {
  display: flex;
  flex-flow: nowrap row;
  gap: 20px;
}




//------------------------------------
//  03 - Checkboxes / Radios
//------------------------------------

.form-checkboxes,
.form-radios,
.m-form__checkboxes,
.m-form__radios {
  input[type='checkbox'],
  input[type='radio'] {
    inset-inline-start: -9999px;
    position: absolute;
  }

  .form__field {
    align-items: center;
    display: flex;
    gap: 12px;
    margin-block-end: 12px;

    input,
    label {
      margin-block-end: 0;
    }

    input[type='checkbox']:checked + label,
    input[type='radio']:checked + label{
      font-weight: bold;
    }

    input[type='checkbox'] + label .option,
    input[type='radio'] + label .option {
      display: inline-block;
    }

    input[type='checkbox']:focus + label::before,
    input[type='radio']:focus + label::before {
      outline: rgb(59, 153, 252) auto 5px;
    }

    label:before {
      block-size: 28px;
      content: '';
      inline-size: 28px;
      inset-inline-start: 0;
      position: absolute;
    }

    label {
      cursor: pointer;
      display: inline-block;
      padding-inline-start: 40px;
      position: relative;
    }

    .option {
      font-family: var(--surf-font-sans);
      font-size: var(--surf-fs-16-18);
      font-weight: var(--surf-fw-book);
      letter-spacing: normal;
      line-height: var(--surf-lh-label);
      text-transform: none;
    }
  }
}

.form-radios,
.m-form__radios {
  input[type='radio'] + label:before {
    background: svg-load('icon-radio-unselected.svg', fill='#000080') left center no-repeat;
  }

  input[type='radio']:checked + label:before {
    background: svg-load('icon-radio-selected.svg', fill='#000080') left center no-repeat;
  }
}

.form-checkboxes,
.m-form__checkboxes {
  input[type='checkbox'] + label::before {
    background: svg-load('icon-check-empty-disabled.svg', fill='#000080') left center no-repeat;
  }

  input[type='checkbox']:checked + label::before {
    background: svg-load('icon-check-selected.svg', fill='#000080') left center no-repeat;
  }
}



//------------------------------------
//  04 - Descriptions
//------------------------------------

.description,
.form-item__description,
.m-form__description {
  color: var(--surf-color-gray-600);
  font-family: var(--surf-font-sans);
  font-size: calculations.rem(14px);
  line-height: var(--surf-lh-label);
  margin-block-start: 8px;
}

.description--required,
.m-form__description--required {
  margin-block-end: 16px;
  margin-block-start: 32px;

  span {
    color: var(--surf-color-red);
    font-size: 1.375rem;
    margin-inline: 0.25rem;
    vertical-align: text-top;
  }
}




//------------------------------------
//  05 - Passwords
//------------------------------------

.password-strength__meter {
  background-color: var(--surf-color-gray-100);
}

.password-strength__indicator {
  &.is-fair {
    background-color: var(--surf-color-yellow);
  }

  &.is-strong {
    background-color: var(--surf-color-green);
  }

  &.is-good {
    background-color: var(--surf-color-green);
  }

  &.is-weak {
    background-color: var(--surf-color-red);
  }
}

.password-confirm,
.password-strength__title {
  font-family: var(--surf-font-sans);
  font-size: rem(14px);
}

.password-strength__text {
  font-weight: var(--surf-fw-bold);
}

.password-confirm > span {
  font-weight: var(--surf-fw-bold);

  &.error {
    color: var(--surf-color-red);
  }

  &.ok {
    color: var(--surf-color-green);
  }
}

.password-suggestions {
  font-family: var(--surf-font-sans);
  font-size: rem(14px);
  font-weight: var(--surf-fw-bold);

  > ul {
    font-weight: var(--surf-fw-regular);
  }
}
