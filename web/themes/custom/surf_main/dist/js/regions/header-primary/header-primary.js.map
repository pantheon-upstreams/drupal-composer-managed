{"version":3,"file":"./regions/header-primary/header-primary.js","mappings":"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","sources":["webpack://prototype/./libraries/regions/header-primary/header-primary.js"],"sourcesContent":["/**\n * Regions - Header Primary\n * Functionality to simply hide and show mobile menu.\n *\n * - 01 - Mobile Move\n * - 02 - Dropdown\n * - 03 - Drupal Attach\n */\n\n\n/*------------------------------------*\\\n  01 - Mobile Move\n  Simply changing a set of classes, attributes and states upon either a click,\n  or keyboard action.\n\\*------------------------------------*/\n\nconst mobileMove = (wrapper, destination, breakpoint) => {\n  // Constructor\n  const mediaQuery = window.matchMedia(`(min-width: ${breakpoint}px)`);\n  let parent;\n  let state;\n\n  /**\n   * Media Query Change\n   * Any events needing to be taken when a specific breakpoint has been activated.\n   * @see init\n   */\n  const onMediaQueryChange = () => {\n    if (mediaQuery.matches) {\n      state = 'desktop';\n\n      if (wrapper.classList.contains('menu__name--main')) {\n        const branding = parent.querySelector('.site-branding');\n        branding.after(wrapper);\n      } else {\n        parent.prepend(wrapper);\n      }\n    } else {\n      state = 'mobile';\n\n      if (wrapper.classList.contains('search-form')) {\n        destination.prepend(wrapper);\n      } else {\n        destination.append(wrapper);\n      }\n    }\n  };\n\n  /**\n   * Initialization\n   * Add any and all functionality as a singular program, dynamically setting\n   * element variables, states and event listeners.\n   * @param wrapper - [HTMLObject] Element that contains all elements contained\n   * inside the eventual modal.\n   */\n  const init = (wrapper) => {\n    parent = wrapper.parentElement;\n\n    // Device or viewport change listener and on load.\n    mediaQuery.addEventListener('change', onMediaQueryChange);\n    onMediaQueryChange();\n  };\n\n  // Final Return\n  init (wrapper, destination, breakpoint);\n};\n\n\n\n\n/*------------------------------------*\\\n  02 - Dropdown\n  Simply changing a set of classes, attributes and states upon either a click,\n  or keyboard action.\n\\*------------------------------------*/\n\nconst dropdown = (wrapper) => {\n  // Constructor\n  const openClass = 'is-open';\n  let flyout;\n  let trigger;\n\n  const close = () => {\n    wrapper.classList.remove(openClass);\n    trigger.setAttribute('aria-expanded', 'false');\n  };\n\n  const open = () => {\n    wrapper.classList.add(openClass);\n    trigger.setAttribute('aria-expanded', 'true');\n  }\n\n  const onClickTrigger = (event) => {\n    if (wrapper.classList.contains(openClass)) {\n      close()\n    } else {\n      open()\n    }\n  };\n\n  const onKeydownTrigger = (event) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n\n      if (wrapper.classList.contains(openClass)) {\n        close()\n      } else {\n        open()\n      }\n    }\n\n    if (event.key === 'Escape' || event.key === 'End') {\n      close();\n    }\n  };\n\n  const onClickWrapper = (event) => {\n    if (event.target === flyout) {\n      close();\n    }\n  }\n\n  /**\n   * Initialization\n   * Add any and all functionality as a singular program, dynamically setting\n   * element variables, states and event listeners.\n   * @param wrapper - [HTMLObject] Element that contains all elements contained\n   * inside the eventual modal.\n   */\n  const init = (wrapper) => {\n    flyout = wrapper.querySelector('.mobile-menu__flyout');\n    trigger = wrapper.querySelector('.mobile-menu__trigger');\n    trigger.addEventListener('click', onClickTrigger);\n    trigger.addEventListener('keydown', onKeydownTrigger);\n    wrapper.addEventListener('click', onClickWrapper)\n  };\n\n  // Final Return\n  init (wrapper);\n};\n\n\n\n\n/*------------------------------------*\\\n  02 - Drupal Attach\n  Attach any previously defined functionality into Drupal behaviors.\n  https://www.drupal.org/docs/drupal-apis/javascript-api/javascript-api-overview\n\\*------------------------------------*/\n\nDrupal.behaviors.surfMobileMenu = {\n  attach(context) {\n    const mobileMenu = once('surf-mobile-menu', context.querySelector('.mobile-menu'));\n\n    if (mobileMenu.length !== 0) {\n      dropdown(mobileMenu[0])\n    }\n  },\n}\n\nDrupal.behaviors.surfMobileMove = {\n  attach(context) {\n    const wrappers = [\n      {\n        'id': 'surf-move-mobile-01',\n        'class': '.search-form',\n        'breakpoint': 992,\n      },\n      {\n        'id': 'surf-move-mobile-02',\n        'class': '.menu__name--main',\n        'breakpoint': 1400,\n      },\n      {\n        'id': 'surf-move-mobile-03',\n        'class': '.menu__name--utility-nav',\n        'breakpoint': 992,\n      },\n    ];\n\n    const destination = once('surf-move-mobile-destination', context.querySelector('.mobile-menu__flyout-content'));\n\n    wrappers.forEach((wrapper) => {\n      const element = once(wrapper.id, context.querySelector(wrapper.class));\n\n      if (element.length !== 0 && destination.length !== 0) {\n        mobileMove(element[0], destination[0], wrapper.breakpoint);\n      }\n    });\n  }\n}\n"],"names":["mobileMove","wrapper","destination","breakpoint","mediaQuery","window","matchMedia","parent","state","onMediaQueryChange","matches","classList","contains","branding","querySelector","after","prepend","append","init","parentElement","addEventListener","dropdown","openClass","flyout","trigger","close","remove","setAttribute","open","add","onClickTrigger","event","onKeydownTrigger","key","preventDefault","onClickWrapper","target","Drupal","behaviors","surfMobileMenu","attach","context","mobileMenu","once","length","surfMobileMove","wrappers","forEach","element","id","class"],"sourceRoot":""}