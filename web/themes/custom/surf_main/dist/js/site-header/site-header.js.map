{"version":3,"file":"site-header/site-header.js","mappings":"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","sources":["webpack://surf_main/./libraries/components/site-header/site-header.js"],"sourcesContent":["(function ($) {\n  $(document).ready(function () {\n    /*\n     *   This file is based on content that is licensed according to the W3C Software License at\n     *   https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n     *\n     */\n\n    \"use strict\";\n\n    class MenuButtonLinks {\n      constructor(domNode) {\n        this.domNode = domNode;\n        this.buttonNode = domNode.querySelector(\"button\");\n        this.buttonNode.setAttribute(\"aria-expanded\", \"false\");\n        this.menuNode = domNode.querySelector(\"ul.menu[data-depth='1']\");\n        this.menuitemNodes = [];\n        this.firstMenuitem = false;\n        this.lastMenuitem = false;\n\n        this.buttonNode.addEventListener(\n          \"keydown\",\n          this.onButtonKeydown.bind(this)\n        );\n        this.buttonNode.addEventListener(\n          \"click\",\n          this.onButtonClick.bind(this)\n        );\n\n        var nodes = domNode.querySelectorAll(\".menu__link\");\n\n        for (var i = 0; i < nodes.length; i++) {\n          var menuitem = nodes[i];\n          this.menuitemNodes.push(menuitem);\n\n          menuitem.addEventListener(\n            \"keydown\",\n            this.onMenuitemKeydown.bind(this)\n          );\n\n          menuitem.addEventListener(\n            \"mouseover\",\n            this.onMenuitemMouseover.bind(this)\n          );\n\n          if (!this.firstMenuitem) {\n            this.firstMenuitem = menuitem;\n          }\n          this.lastMenuitem = menuitem;\n        }\n\n        domNode.addEventListener(\"focusin\", this.onFocusin.bind(this));\n        domNode.addEventListener(\"focusout\", this.onFocusout.bind(this));\n\n        window.addEventListener(\n          \"mousedown\",\n          this.onBackgroundMousedown.bind(this),\n          true\n        );\n      }\n\n      setFocusToMenuitem(newMenuitem) {\n        this.menuitemNodes.forEach(function (item) {\n          if (item === newMenuitem) {\n            newMenuitem.focus();\n          }\n        });\n      }\n\n      setFocusToFirstMenuitem() {\n        this.setFocusToMenuitem(this.firstMenuitem);\n      }\n\n      setFocusToLastMenuitem() {\n        this.setFocusToMenuitem(this.lastMenuitem);\n      }\n\n      setFocusToPreviousMenuitem(currentMenuitem) {\n        var newMenuitem, index;\n\n        if (currentMenuitem === this.firstMenuitem) {\n          newMenuitem = this.lastMenuitem;\n        } else {\n          index = this.menuitemNodes.indexOf(currentMenuitem);\n          newMenuitem = this.menuitemNodes[index - 1];\n        }\n\n        this.setFocusToMenuitem(newMenuitem);\n\n        return newMenuitem;\n      }\n\n      setFocusToNextMenuitem(currentMenuitem) {\n        var newMenuitem, index;\n\n        if (currentMenuitem === this.lastMenuitem) {\n          newMenuitem = this.firstMenuitem;\n        } else {\n          index = this.menuitemNodes.indexOf(currentMenuitem);\n          newMenuitem = this.menuitemNodes[index + 1];\n        }\n        this.setFocusToMenuitem(newMenuitem);\n\n        return newMenuitem;\n      }\n\n      // Popup menu methods\n      openPopup() {\n        this.menuNode.classList.add(\"open\");\n        this.buttonNode.setAttribute(\"aria-expanded\", \"true\");\n      }\n\n      closePopup() {\n        if (this.isOpen()) {\n          // this.buttonNode.removeAttribute(\"aria-expanded\");\n          this.buttonNode.setAttribute(\"aria-expanded\", \"false\");\n          this.menuNode.classList.remove(\"open\");\n        }\n      }\n\n      isOpen() {\n        return this.buttonNode.getAttribute(\"aria-expanded\") === \"true\";\n      }\n\n      // Menu event handlers\n      onFocusin() {\n        this.domNode.classList.add(\"focus\");\n      }\n\n      onFocusout() {\n        this.domNode.classList.remove(\"focus\");\n      }\n\n      onButtonKeydown(event) {\n        var key = event.key,\n          flag = false;\n\n        switch (key) {\n          case \" \":\n          case \"Enter\":\n            if (this.isOpen()) {\n              this.closePopup();\n              this.buttonNode.focus();\n            } else {\n              this.openPopup();\n              this.setFocusToFirstMenuitem();\n              flag = true;\n              break;\n            }\n\n          case \"Down\":\n          case \"ArrowDown\":\n            this.openPopup();\n            this.setFocusToFirstMenuitem();\n            flag = true;\n            break;\n\n          case \"Esc\":\n          case \"Escape\":\n            this.closePopup();\n            this.buttonNode.focus();\n            flag = true;\n            break;\n\n          case \"Up\":\n          case \"ArrowUp\":\n            this.openPopup();\n            this.setFocusToLastMenuitem();\n            flag = true;\n            break;\n\n          case \"Tab\":\n            // Allow tabs to pass through\n            flag = false;\n            break;\n\n          default:\n            break;\n        }\n\n        if (flag) {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      }\n\n      onButtonClick(event) {\n        if (this.isOpen()) {\n          this.closePopup();\n          this.buttonNode.focus();\n        } else {\n          this.openPopup();\n          this.setFocusToFirstMenuitem();\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n\n      onMenuitemKeydown(event) {\n        var tgt = event.currentTarget,\n          key = event.key,\n          flag = false;\n\n        if (event.ctrlKey || event.altKey || event.metaKey) {\n          return;\n        }\n\n        switch (key) {\n          case \" \":\n            window.location.href = tgt.href;\n            break;\n\n          case \"Esc\":\n          case \"Escape\":\n            this.closePopup();\n            this.buttonNode.focus();\n            flag = true;\n            break;\n\n          case \"Up\":\n          case \"ArrowUp\":\n            this.setFocusToPreviousMenuitem(tgt);\n            flag = true;\n            break;\n\n          case \"ArrowDown\":\n          case \"Down\":\n            this.setFocusToNextMenuitem(tgt);\n            flag = true;\n            break;\n\n          case \"Left\":\n          case \"Right\":\n          case \"ArrowLeft\":\n          case \"ArrowRight\":\n            if (this.isOpen()) {\n              this.closePopup();\n              this.buttonNode.focus();\n            } else {\n              // Find the next element and set it as the focus\n              this.buttonNode.next().focus();\n              flag = false;\n              break;\n            }\n\n          case \"Home\":\n          case \"PageUp\":\n            this.setFocusToFirstMenuitem();\n            flag = true;\n            break;\n\n          case \"End\":\n          case \"PageDown\":\n            this.setFocusToLastMenuitem();\n            flag = true;\n            break;\n\n          case \"Tab\":\n            var last = $(tgt).parent().is(\":last-child\");\n            if (this.isOpen() && !last) {\n              flag = false;\n              break;\n            } else {\n              this.closePopup();\n              break;\n            }\n\n          default:\n            break;\n        }\n\n        if (flag) {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      }\n\n      // On hover set focus to current menu button\n      onMenuitemMouseover(event) {\n        var tgt = event.currentTarget;\n        tgt.focus();\n      }\n\n      // If user clicks away, close menu\n      onBackgroundMousedown(event) {\n        if (!this.domNode.contains(event.target)) {\n          if (this.isOpen()) {\n            this.closePopup();\n            this.buttonNode.focus();\n          }\n        }\n      }\n    }\n\n    // Initialize main menu buttons\n    var menuButtons = document.querySelectorAll(\n      \".menu--main[data-depth='0'] > li\"\n    );\n    for (let i = 0; i < menuButtons.length; i++) {\n      new MenuButtonLinks(menuButtons[i]);\n    }\n\n    // Utility Menu Links\n    const utilityItems = document.querySelectorAll(\".menu--utility-nav > li\");\n\n    // Search Form Inputs\n    const searchInput = document.querySelectorAll(\".search-form input\");\n\n    // const menuButtons = document.querySelectorAll(\n    //   \".c-site-header__menu-main ul > li > button\"\n    // );\n\n    // document\n    //   .getElementById(\"nav-trigger\")\n    //   .addEventListener(\"keydown\", mobileButtonKeydown);\n\n    // Initialize main menu buttons\n    const mobileNav = document.getElementById(\"nav-trigger\");\n    const mobileOpen = mobileNav.getAttribute(\"aria-expanded\");\n\n    // When ESC Key is pressed close ALL open menus\n    $(document).on(\"keydown\", function (event) {\n      // Mobile 📱\n      if (event.key === \"Escape\" && mobileOpen) {\n        console.log(\"here?\");\n        menuButtons.each(function name() {\n          $(this).attr(\"aria-expanded\", \"false\");\n          var buttons = menuButtons.querySelector(\"button\");\n          var menus = menuButtons.querySelector(\"ul.menu[data-depth='1']\");\n        });\n\n        mobileNav.attr(\"aria-expanded\", \"false\");\n        mobileNav.removeClass(\"checked\");\n        mobileNav.focus();\n        $(\"body\").removeClass(\"js-prevent-scroll\");\n\n        // Desktop 🖥️\n      } else if (event.key === \"Escape\" && !mobileOpen) {\n        $($allNavListItems).each(function name() {\n          $(this).removeClass(\"active\");\n          $(this).find(\"button\").attr(\"aria-expanded\", \"false\");\n        });\n      }\n      return;\n    });\n\n    class MobileMenu {\n      constructor(domControl, domNode) {\n        console.log(domControl, domNode);\n        this.domNode = domNode;\n        this.buttonNode = domControl;\n\n        // this.menuNode = this.domNode.querySelectorAll(\"a\");\n        this.menuitemNodes = [];\n        this.firstMenuitem = false;\n        this.lastMenuitem = false;\n\n        this.buttonNode.addEventListener(\n          \"keydown\",\n          this.onButtonKeydown.bind(this)\n        );\n        // this.buttonNode.addEventListener(\n        //   \"click\",\n        //   this.onButtonClick.bind(this)\n        // );\n      }\n\n      isOpen() {\n        return this.buttonNode.getAttribute(\"aria-expanded\") === \"true\";\n      }\n\n      // Popup menu methods\n      openMenu() {\n        $(\"body\").toggleClass(\"js-prevent-scroll\");\n        this.buttonNode.setAttribute(\"aria-expanded\", \"true\");\n        this.buttonNode.classList.add(\"checked\");\n      }\n\n      closeMenu() {\n        if (this.isOpen()) {\n          this.buttonNode.setAttribute(\"aria-expanded\", \"false\");\n          this.buttonNode.classList.remove(\"checked\");\n          $(\"body\").toggleClass(\"js-prevent-scroll\");\n        }\n      }\n      onButtonKeydown(event) {\n        var key = event.key,\n          flag = false;\n        console.log(key);\n\n        switch (key) {\n          case \" \":\n          case \"Enter\":\n            if (this.isOpen()) {\n              this.closeMenu();\n              this.buttonNode.focus();\n            } else {\n              this.openMenu();\n              // this.setFocusToFirstMenuitem();\n              flag = true;\n              break;\n            }\n\n          // case \"Down\":\n          // case \"ArrowDown\":\n          //   this.setFocusToFirstMenuitem();\n          //   flag = true;\n          //   break;\n\n          case \"Esc\":\n          case \"Escape\":\n            this.closeMenu();\n            this.buttonNode.focus();\n            flag = true;\n            break;\n\n          // case \"Up\":\n          // case \"ArrowUp\":\n          //   this.setFocusToLastMenuitem();\n          //   flag = true;\n          //   break;\n\n          case \"Tab\":\n            // Allow tabs to pass through\n            flag = false;\n            break;\n\n          default:\n            break;\n        }\n\n        if (flag) {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      }\n    }\n\n    new MobileMenu(mobileNav, utilityItems);\n\n    // function mobileButtonKeydown(element) {\n    //   console.log(element);\n    // }\n    // // Mobile Navigation trigger function\n    // $(\"#nav-trigger\").on(\"click\", (e) => {\n    //   // Attach overlay to body\n    //   $(\"body\").toggleClass(\"js-prevent-scroll\");\n    //   $(\"#nav-trigger\").toggleClass(\"checked\");\n\n    //   if ($(\"#nav-trigger\").hasClass(\"checked\")) {\n    //     $(\"#nav-trigger\").attr(\"aria-expanded\", \"true\");\n\n    //     //If mobile menu is open and utlity nav is not inside wrapper\n    //     if ($(window).width() > 1024) {\n    //       hideIndex(utilityItems);\n    //       hideIndex(searchInput);\n    //     }\n    //   } else {\n    //     $(\"#nav-trigger\").attr(\"aria-expanded\", \"false\");\n    //     displayIndex(utilityItems);\n    //     displayIndex(searchInput);\n    //   }\n\n    //   // Add negative index when mobile menu is open on small desktop\n    //   function hideIndex(items) {\n    //     for (let i = 0; i < items.length; i++) {\n    //       var menuitem = items[i];\n    //       menuitem.tabIndex = -1;\n    //     }\n    //   }\n    //   // Remove added tabindex\n    //   function displayIndex(items) {\n    //     for (let i = 0; i < items.length; i++) {\n    //       var menuitem = items[i];\n    //       menuitem.removeAttribute(\"tabindex\");\n    //     }\n    //   }\n    // });\n  });\n\n  // // Copy the Secondary nav for mobile 📱\n  // $('#block-submenu .menu--sub-menu[data-depth=\"0\"]').clone().prependTo(\"#block-vertafore-main-menu\");\n\n  // // Prepend `Solutions for` to each top level item in the Secondary Nav just in the mobile nav\n  // $( \"#block-vertafore-main-menu .menu--sub-menu[data-depth='0'] > li > button.menu__link \" ).each(function() {\n  //   $(this).text('Solutions for ' + $( this ).text());\n  // });\n})(jQuery);\n"],"names":["$","document","ready","MenuButtonLinks","domNode","buttonNode","querySelector","setAttribute","menuNode","menuitemNodes","firstMenuitem","lastMenuitem","addEventListener","onButtonKeydown","bind","onButtonClick","nodes","querySelectorAll","i","length","menuitem","push","onMenuitemKeydown","onMenuitemMouseover","onFocusin","onFocusout","window","onBackgroundMousedown","newMenuitem","forEach","item","focus","setFocusToMenuitem","currentMenuitem","index","indexOf","classList","add","isOpen","remove","getAttribute","event","key","flag","closePopup","openPopup","setFocusToFirstMenuitem","setFocusToLastMenuitem","stopPropagation","preventDefault","tgt","currentTarget","ctrlKey","altKey","metaKey","location","href","setFocusToPreviousMenuitem","setFocusToNextMenuitem","next","last","parent","is","contains","target","menuButtons","utilityItems","searchInput","mobileNav","getElementById","mobileOpen","on","console","log","each","name","attr","buttons","menus","removeClass","$allNavListItems","find","MobileMenu","domControl","toggleClass","closeMenu","openMenu","jQuery"],"sourceRoot":""}