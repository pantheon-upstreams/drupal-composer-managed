!function(){var p;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_(n),t=(e=i?(e=_(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(i.key),i)}}function w(e,t,n){t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(p=jQuery)(document).ready(function(){"use strict";function i(e){for(var t=0;t<e.length;t++)e[t].tabIndex=-1}function o(e){for(var t=0;t<e.length;t++)e[t].removeAttribute("tabindex")}function u(e,t){for(var n=0;n<e.length;n++){var i=p(e[n]).find(".menu__link");t?p(i).attr("data-visible",!0):p(i).attr("data-visible",!1)}}function r(e,t){var n=p(window).width();"false"===p(d).attr("aria-expanded")?(p("body").toggleClass("js-prevent-scroll"),p(d).toggleClass("checked"),p(d).attr("aria-expanded","true"),1200<=n?(o(p(s).find(".menu__link")),u(a,!1)):1024<=n&&n<1200?(i(c),i(l),o(p(s).find(".menu__link"))):(i(c),o(f),o(l),u(a,!0))):(p("body").toggleClass("js-prevent-scroll"),p(d).toggleClass("checked"),p(d).attr("aria-expanded","false"),1024<=n&&n<1200?(o(c),o(l),i(p(s).find(".menu__link"))):n<=1023&&(i(c),i(f),i(l))),p(d).focus(),e.stopPropagation()}window.addEventListener("resize",function(){var e=p(window).width();clearTimeout(void 0),setTimeout(void(1200<=(e=e)?(o(p(s).find(".menu__link")),u(a,!1)):1024<=e&&e<1200?(o(c),o(l),i(p(s).find(".menu__link"))):e<=1023&&(i(c),i(f),i(l),u(a,!1))),200)});var e=function(){function o(e){k(this,o),this.domNode=e,this.menuitemNodes=[],this.firstMenuitem=!1,this.lastMenuitem=!1;for(var t=e.querySelectorAll(".menu__link"),n=0;n<t.length;n++){var i=t[n];this.menuitemNodes.push(i),i.addEventListener("keydown",this.onMenuitemKeydown.bind(this)),this.firstMenuitem||(this.firstMenuitem=i),this.lastMenuitem=i}}return w(o,[{key:"setFocusToMenuitem",value:function(t){this.menuitemNodes.forEach(function(e){e===t&&t.focus()})}},{key:"setFocusToFirstMenuitem",value:function(){this.setFocusToMenuitem(this.firstMenuitem)}},{key:"setFocusToLastMenuitem",value:function(){this.setFocusToMenuitem(this.lastMenuitem)}},{key:"setFocusToPreviousMenuitem",value:function(e){e=e===this.firstMenuitem?this.lastMenuitem:(e=this.menuitemNodes.indexOf(e),this.menuitemNodes[e-1]);return this.setFocusToMenuitem(e),e}},{key:"setFocusToNextMenuitem",value:function(e){e=e===this.lastMenuitem?this.firstMenuitem:(e=this.menuitemNodes.indexOf(e),this.menuitemNodes[e+1]);return this.setFocusToMenuitem(e),e}},{key:"onMenuitemKeydown",value:function(e){var t=e.currentTarget,n=e.key;if(!(e.ctrlKey||e.altKey||e.metaKey))switch(n){case"Left":case"ArrowLeft":var i=p(t).parent().prev();(0<p(i).find(".menu__link").length?p(i).find(".menu__link"):(i=p("ul.menu--main[data-depth='0'] > .menu__item > .menu__link"))[i.length-1]).focus();break;case"Right":case"ArrowRight":i=p(t).parent().next();(0<p(i).find(".menu__link").length?p(i).find(".menu__link"):(i=p("ul.menu--main[data-depth='0'] > .menu__item > .menu__link"))[0]).focus();break;case"Tab":p(t).parent().is(":last-child")&&r(e);break;case"Esc":case"Escape":r(e)}}}]),o}(),t=function(){y(s,e);var u=b(s);function s(e){k(this,s),(t=u.call(this,e)).buttonNode=e.querySelector("button"),t.buttonNode.setAttribute("aria-expanded","false"),t.menuNode=e.querySelector("ul.menu[data-depth='1']"),t.buttonNode.addEventListener("keydown",t.onButtonKeydown.bind(v(t))),t.buttonNode.addEventListener("click",t.onButtonClick.bind(v(t))),t.menuitemNodes=[],t.firstMenuitem=!1,t.lastMenuitem=!1;for(var t,n=e.querySelectorAll("a.menu__link"),i=0;i<n.length;i++){var o=n[i];t.menuitemNodes.push(o),o.addEventListener("keydown",t.onMenuitemKeydown.bind(v(t))),t.firstMenuitem||(t.firstMenuitem=o),t.lastMenuitem=o}return e.addEventListener("focusin",t.onFocusin.bind(v(t))),e.addEventListener("focusout",t.onFocusout.bind(v(t))),window.addEventListener("mousedown",t.onBackgroundMousedown.bind(v(t)),!0),t}return w(s,[{key:"openPopup",value:function(){this.menuNode.classList.add("open"),this.buttonNode.setAttribute("aria-expanded","true")}},{key:"closePopup",value:function(){this.isOpen()&&(this.buttonNode.setAttribute("aria-expanded","false"),this.menuNode.classList.remove("open"))}},{key:"isOpen",value:function(){return"true"===this.buttonNode.getAttribute("aria-expanded")}},{key:"onFocusin",value:function(){this.domNode.classList.add("focus")}},{key:"onFocusout",value:function(){this.domNode.classList.remove("focus")}},{key:"onButtonKeydown",value:function(e){var t=e.key,n=!1;switch(t){case" ":case"Enter":this.isOpen()?(this.closePopup(),this.buttonNode.focus(),n=!0):(this.openPopup(),h(_(s.prototype),"setFocusToFirstMenuitem",this).call(this),n=!0);break;case"Down":case"ArrowDown":this.openPopup(),h(_(s.prototype),"setFocusToFirstMenuitem",this).call(this),n=!0;break;case"Esc":case"Escape":this.isOpen()&&(this.closePopup(),this.buttonNode.focus(),n=!0),r(e);break;case"Up":case"ArrowUp":this.openPopup(),h(_(s.prototype),"setFocusToLastMenuitem",this).call(this),n=!0;break;case"Left":case"ArrowLeft":var i=p(this.buttonNode).parent().prev();(0<p(i).find(".menu__link").length?p(i).find(".menu__link"):(i=p("ul.menu--main[data-depth='0'] > .menu__item:not(:hidden) > .menu__link"))[i.length-1]).focus();break;case"Right":case"ArrowRight":i=p(this.buttonNode).parent().next();(0<p(i).find(".menu__link:not([data-visible=false])").length?p(i).find(".menu__link"):(i=p("ul.menu--main[data-depth='0'] > .menu__item > .menu__link"))[0]).focus()}n&&(e.stopPropagation(),e.preventDefault())}},{key:"onButtonClick",value:function(e){this.isOpen()?(this.closePopup(),this.buttonNode.focus()):this.openPopup(),e.stopPropagation(),e.preventDefault()}},{key:"onMenuitemKeydown",value:function(e){var t=e.currentTarget,n=e.key,i=!1;if(!(e.ctrlKey||e.altKey||e.metaKey)){switch(n){case"Esc":case"Escape":this.closePopup(),this.buttonNode.focus(),i=!0;break;case"Up":case"ArrowUp":h(_(s.prototype),"setFocusToPreviousMenuitem",this).call(this,t),i=!0;break;case"ArrowDown":case"Down":h(_(s.prototype),"setFocusToNextMenuitem",this).call(this,t),i=!0;break;case"Left":case"ArrowLeft":this.isOpen()&&this.closePopup();var o=p(t).closest(".menu__item.menu__item--expanded").prev();(0<p(o).find(".menu__link:not([data-visible=false])").length?p(o).find(".menu__link:not([data-visible=false])"):(o=p("ul.menu--main[data-depth='0'] > .menu__item > .menu__link:not([data-visible=false])"))[o.length-1]).focus();break;case"Right":case"ArrowRight":this.isOpen()&&this.closePopup();var o=p(t).closest(".menu__item.menu__item--expanded").next();(0<p(o).find(".menu__link:not([data-visible=false])").length?p(o).find(".menu__link:not([data-visible=false])"):(o=p("ul.menu--main[data-depth='0'] > .menu__item > .menu__link:not([data-visible=false])"))[0]).focus();break;case"Home":case"PageUp":this.setFocusToFirstMenuitem(),i=!0;break;case"End":case"PageDown":h(_(s.prototype),"setFocusToLastMenuitem",this).call(this),i=!0;break;case"Tab":e.shiftKey?(o=p(t).parent().is(":first-child"),this.isOpen()&&!o||this.closePopup()):(o=p(t).parent().is(":last-child"),this.isOpen()&&!o||this.closePopup())}i&&(e.stopPropagation(),e.preventDefault())}}},{key:"onBackgroundMousedown",value:function(e){this.domNode.contains(e.target)||this.isOpen()&&(this.closePopup(),this.buttonNode.focus())}}]),s}(),s=(p('#block-utilitynav .menu--utility-nav[data-depth="0"] li').clone().appendTo('#block-surf-main-main-menu > ul.menu--main[data-depth="0"]'),document.querySelectorAll(".menu--main[data-depth='0'] > li")),a=document.querySelectorAll(".menu--main .utility__link"),c=p(".menu--utility-nav .menu__link"),l=p(".search-form input"),d=p("#nav-trigger"),f=p(".menu--main .menu__link");d.on("click",r);var n=p(window).width();1200<=n?u(a,!1):1024<=n&&n<1200?(i(p(s).find(".menu__link")),u(a,!1)):(i(c),i(f),i(l));for(var m=0;m<s.length;m++)new(s[m].querySelector("button")?t:e)(s[m])})}();