{# <pre>{{ dump(content|keys) }}</pre> #}
  {#
    TODO:
    - [ ] Add image style to the `image_url`
    - [ ] Replace `dates` with dynamic formatted values using `content.field_date`
    - [ ] Replace `times` with dynamic formatted values using `content.field_date`
  #}

{# Handle internal and external links/urls #}
{% if content.field_link.0 is empty %}
{% set link_url = '' %}
{% elseif content.field_link.0["#url"].external %}
  {% set link_url = content.field_link.0["#url"].uri %}
{% else %}
  {% set link_url = path(content.field_link.0["#url"].routeName, content.field_link.0["#url"].routeParameters) %}
{% endif %}

{# Dates no set #}
{% if content.field_dates.0.start_date is empty and content.field_dates.0.end_date is empty %}
  {% set dates = null %}
{# Same Day #}
{% elseif content.field_dates.0.start_date["#text"]|date('F j, Y') == content.field_dates.0.end_date["#text"]|date('F j, Y') %}
  {% set dates = content.field_dates.0.start_date["#text"]|date('F j, Y') %}
{# Multiple Days #}
{% else %}
  {% set dates = content.field_dates.0.start_date["#text"]|date('F j') ~ '-' ~ content.field_dates.0.end_date["#text"]|date|date('F d, Y') %}
{% endif %}

{# Dates no set #}
{% if content.field_dates.0.start_date is empty and content.field_dates.0.end_date is empty %}
  {% set times = null %}
{# All Day #}
{% elseif (content.field_dates.0.start_date["#text"])|date('g:i A') == '12:00 AM' and (content.field_dates.0.end_date["#text"])|date('g:i A') == '11:59 PM'  %}
  {% set times = null %}
{# Times to be set #}
{% else %}
  {% set times = content.field_dates.0.start_date["#text"]|date('g:i A') ~ '-' ~ content.field_dates.0.end_date["#text"]|date('g:i A') %}
{% endif %}



{% include "event-page" with {
  title: label,
  overview: content.field_overview|render|striptags|trim,
  dates,
  times,
  link_url: link_url,
  link_text: content.field_link.0["#title"],
  image_url: file_url(content.field_media_primary['#items'].entity.field_media_image.entity.fileuri),
  image_alt: content.field_media_primary['#items'].entity.field_media_image.alt,
  body: content.body,
} %}
