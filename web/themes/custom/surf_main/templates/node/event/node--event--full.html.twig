{#
/**
 * @file
 * Theme implementation to display an Event Node with Full view mode.
 *
 * Available variables:
 *  - No additional variables are available for this Node type.
 *
 * @see templates/nodes/node.html.twig
 * @see components/05-pages/event/event.twig
 */
#}

{% set classes = [
    'p-event--full',
] %}

{% set rendered_content = content|without(
    'field_dates',
    'field_link',
    'field_media_primary',
    'field_overview',
    'registration_links',
) %}

{% if content.field_link|render and not content.registration_links.webform %}
    {% set registration_link_text = content.field_link[0]['#title'] %}
    {% set registration_link_url = content.field_link[0]['#url'] %}
{% elseif content.registration_links.webform %}
    {% set registration_link_text = content.registration_links.webform['#title'] %}
    {% set registration_link_url = content.registration_links.webform['#url'] %}
{% endif %}

{% include 'surf_main:event' with {
    attributes,
    rendered_content,
    event_attributes: create_attribute({'class': classes}),
    event_heading: label|field_value,
    event_media: content.field_media_primary|field_value|default([]),
    event_summary: content.field_overview|field_value,
    event_body: content.body|field_value|default([]),
    event_dates: content.field_dates|field_value|default([]),
    event_link_text: registration_link_text|default([]),
    event_link_url: registration_link_url|default([]),
} only %}
