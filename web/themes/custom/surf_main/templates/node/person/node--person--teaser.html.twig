{#
/**
 * @file
 * Theme implementation to display a Person Node with Teaser view mode.
 *
 * Available variables:
 *  person_initials: [string] The first letter of the first and last name.
 *
 * @see surf_main_preprocess_node__person()
 * @see templates/nodes/node.html.twig
 * @see components/02-molecules/person-card/person-card.twig
 */
#}

{% set rendered_content = content|without(
    'field_name',
    'field_job_title',
    'field_phone_office',
    'field_email',
    'field_media_primary'
) %}

{% include 'surf_main:person-card' with {
    attributes,
    rendered_content,
    person_card_attributes: create_attribute(),
    person_card_email: content.field_email|render ? content.field_email|field_value,
    person_card_initials: person_initials,
    person_card_media: content.field_media_primary|field_value|default([]),
    person_card_name: content.field_name|render ? content.field_name|field_value,
    person_card_phone: content.field_phone_office|render ? content.field_phone_office|field_value,
    person_card_role: content.field_job_title|render ? content.field_job_title|field_value,
    person_card_url: url,
} only %}
