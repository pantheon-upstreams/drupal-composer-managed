{#
/**
 * @file
 * Theme implementation to display a node.
 *
 * Available variables:
 *  See embed below
 *
 * @see template_preprocess_node()
 */
#}

{% set classes = [
  content.field_media_primary.0 ? 'p-report-pub--with-img',
] %}

{% embed 'surf_main:report-pub' with {
  attributes,
  report_pub_attributes: create_attribute({'class': classes}),
  report_pub_heading: label|field_value|default([]),
  report_pub_summary: content.field_overview|field_value|default([]),
  report_pub_cta_url: content.field_link.0 ? content.field_link.0['#url'],
  report_pub_cta_text: content.field_link.0 ? content.field_link.0['#title'],
  report_pub_cta_html_tag,
  report_pub_cta_style,
  report_pub_cta_size,
  report_pub_cta_color,
  report_pub_media: content.field_media_primary|field_value|default([]),
  report_pub_content: content.field_p_content,
} only %}
{% endembed %}

{{ content|without(
  'field_p_content',
  'field_overview',
  'field_media_primary',
  'field_link',
) }}
