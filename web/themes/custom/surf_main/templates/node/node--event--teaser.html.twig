{# <pre>{{dump(content)}}</pre> #}

{#
  TODO: replace/update the hardcoded `category_url`
#}

{% set image_url = '/themes/custom/surf_main/templates/components/teaser/news-placeholder.png' %}
{% if content.field_media_primary|render %}
  {% set image_url = file_url(content.field_media_primary['#items'].entity.field_media_image.entity.fileuri|image_style('teaser')) %}
{% endif %}

{# <pre>{{dump( content)}}</pre> #}

{# Dates no set #}
{% if content.field_dates.0.start_date is empty and content.field_dates.0.end_date is empty %}
  {% set dates = null %}
{# Same Day #}
{% elseif content.field_dates.0.start_date["#text"]|date('F j, Y') == content.field_dates.0.end_date["#text"]|date('F j, Y') %}
  {% set dates = content.field_dates.0.start_date["#text"]|date('F j, Y') %}
{# Multiple Days #}
{% else %}
  {% set dates = content.field_dates.0.start_date["#text"]|date('F j') ~ '-' ~ content.field_dates.0.end_date["#text"]|date|date('F d, Y') %}
{% endif %}

{# Dates no set #}
{% if content.field_dates.0.start_date is empty and content.field_dates.0.end_date is empty %}
  {% set times = null %}
{# All Day #}
{% elseif (content.field_dates.0.start_date["#text"])|date('g:i A') == '12:00 AM' and (content.field_dates.0.end_date["#text"])|date('g:i A') == '11:59 PM'  %}
  {% set times = null %}
{# Times to be set #}
{% else %}
  {% set times = content.field_dates.0.start_date["#text"]|date('g:i A') ~ '-' ~ content.field_dates.0.end_date["#text"]|date('g:i A') %}
{% endif %}

{% if dates and times %}
  {% set dates = dates ~ ' ' ~ times %}
{% endif %}


 {% include "teaser" with {
  layout: 'column-stack',
  title: label,
  body: '',
  url: url,
  category: 'Events',
  category_url: '/events',
  teaser_date: dates,
  image: image_url,
  alt: content.field_media_primary['#items'].entity.field_media_image.alt,
  } %}