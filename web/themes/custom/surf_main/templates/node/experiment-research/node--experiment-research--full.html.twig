{#
/**
 * @file
 * Theme implementation to display a node.
 *
 * Available variables:
 *  See embed below
 *
 * @see template_preprocess_node()
 */
#}

{%
  set rendered_fields = [
  'field_p_content',
  'field_teaser_text',
  'field_media_primary',
  'field_key_facts',
  'field_key_experiments',
  'field_media',
  'field_extra_content',
  'field_experiment_research_type',
  'field_dates',
  'field_research_area',
  'field_overview',
]
%}

{#{% if content.field_experiment_research_type.0['#markup'] == 'Research_area' %}#}

  {% embed 'surf_main:research' with {
    research_attributes: create_attribute(),
    research_heading: label|field_value,
    research_media: content.field_media_primary.0 ? content.field_media_primary|field_value,
    research_sidebar_icon: content.field_media.0 ? content.field_media|field_value,
    research_overview: content.field_overview.0 ? content.field_overview|field_value,
    research_content: content.field_p_content,
    title_suffix: title_suffix,
    attributes,
  } only %}
  {% endembed %}

{#{% else %}#}
{#  Experiment#}
{#{% endif %}#}

{{ content|without(rendered_fields) }}
