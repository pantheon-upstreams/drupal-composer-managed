{#
/**
 * @file
 * Default theme implementation to display a paragraph.
 *
  * Available variables:
 *  See embed below
 *
 * @see template_preprocess_paragraph()
 *
 * @ingroup themeable
 */
#}

{# Handle internal and external links #}
{% set resource_link_url = null %}

{% if content.field_link.0["#url"].external %}
  {% set resource_link_url = content.field_link.0["#url"].uri %}
{% elseif content.field_link.0["#url"].external == false %}
  {% set resource_link_url = path(content.field_link.0["#url"].routeName, content.field_link.0["#url"].routeParameters) %}
{% endif %}

{% set classes = [
  'paragraph',
  'paragraph--' ~ paragraph.bundle|clean_class,
  view_mode ? 'paragraph--' ~ view_mode|clean_class,
  not paragraph.isPublished() ? 'paragraph--unpublished'
] %}

{%
  set rendered_fields = [
  'field_link',
]
%}

{% embed 'surf_main:resource-link' with {
  attributes,
  resource_link_title: content.field_link.0["#title"],
  resource_link_url,
  resource_link_attributes: create_attribute({'class': classes}),
} only %}
{% endembed %}

{{ content|without(rendered_fields) }}
