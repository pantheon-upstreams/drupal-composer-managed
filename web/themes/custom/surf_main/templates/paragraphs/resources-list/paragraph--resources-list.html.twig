{#
/**
 * @file
 * Default theme implementation to display a paragraph.
 *
  * Available variables:
 *  See embed below
 *
 * @see template_preprocess_paragraph()
 *
 * @ingroup themeable
 */
#}

{% set items = [] %}
{% for item in paragraph.field_resource %}
{% set items = items|merge([{
  id: item.value.target_id
  }]) %}
{% endfor %}

{% set classes = [
  'paragraph',
  'paragraph--' ~ paragraph.bundle|clean_class,
  view_mode ? 'paragraph--' ~ view_mode|clean_class,
  not paragraph.isPublished() ? 'paragraph--unpublished'
] %}

{%
  set rendered_fields = [
  'field_title',
  'field_resource',
]
%}

{% embed 'surf_main:resource-list' with {
  attributes,
  resource_list_heading: content.field_title|field_value,
  resource_list_items: items,
  resource_list_attributes: create_attribute({'class': classes}),
} only %}
{% endembed %}

{{ content|without(rendered_fields) }}
